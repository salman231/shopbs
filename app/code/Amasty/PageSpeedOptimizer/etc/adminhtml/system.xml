<?xml version="1.0"?>
<!--
/**
 * @author Amasty Team
 * @copyright Copyright (c) 2019 Amasty (https://www.amasty.com)
 * @package Amasty_PageSpeedOptimizer
 */
-->

<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_file.xsd">
    <system>
        <section id="amoptimizer" translate="label" type="text" sortOrder="71516" showInDefault="1" showInWebsite="1"
                 showInStore="1">
            <class>separator-top</class>
            <label>Google Page Speed Optimizer</label>
            <tab>amasty</tab>
            <resource>Amasty_PageSpeedOptimizer::config</resource>
            <!--<group id="tutorial" showInDefault="1" showInWebsite="1" showInStore="1">-->
                <!--<label>Tutorial</label>-->
                <!--<field id="tutorial" type="button" sortOrder="10" showInDefault="1"-->
                       <!--showInWebsite="1" showInStore="1">-->
                    <!--<frontend_model>Amasty\PageSpeedOptimizer\Block\Adminhtml\Settings\Tutorial</frontend_model>-->
                <!--</field>-->
            <!--</group>-->
            <group id="general" translate="label" type="text" sortOrder="10" showInDefault="1" showInWebsite="1"
                   showInStore="1">
                <label>General</label>
                <field id="enabled" translate="label" type="select" sortOrder="10" showInDefault="1"
                       showInWebsite="1" showInStore="1">
                    <label>Enable Module</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                </field>
            </group>
            <group id="settings" translate="label" type="text" sortOrder="20" showInDefault="1" showInWebsite="1"
                   showInStore="1">
                <label>Settings</label>

                <group id="html" translate="label comment" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>HTML:</label>

                    <field id="minify_html" translate="label" type="select" sortOrder="10" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Minify HTML</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                        <config_path>dev/template/minify_html</config_path>
                        <comment>'bin/magento setup:static-content:deploy' command must be run in the console when any of the settings in the field been changed.</comment>
                    </field>
                </group>

                <group id="javascript" translate="label comment" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>JavaScript:</label>

                    <field id="bundling_type" translate="label tooltip" type="select" sortOrder="10" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Amasty JS Optimization</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\BundlingType</source_model>
                        <config_path>amoptimizer/javascript/bundling_type</config_path>
                        <tooltip><![CDATA[Amasty JS optimization is a unique process that will significantly optimize JavaScript for your Magento website using Advanced JS Bundling feature and JS Minification.<br><br>The process of optimization is complicated. That is why it can't be performed just in one click. You have to pass 3 steps that will require specific actions from you until JS is optimized. You will need to use CLI commands to run through the optimization. Please make sure that you have access to the console and know how to do it.<br><br>Please create a full backup of your Magento instance and follow the instructions that are displayed in the 'Run Optimization" section. ]]></tooltip>
                    </field>

                    <field id="super_bundling" translate="label" type="button" sortOrder="12" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Run Optimization</label>
                        <depends>
                            <field id="bundling_type">1</field>
                        </depends>
                        <frontend_model>Amasty\PageSpeedOptimizer\Block\Adminhtml\Settings\SuperBundling</frontend_model>
                    </field>

                    <field id="super_bundling_clear" translate="label" type="button" sortOrder="14" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Clear Bundle</label>
                        <depends>
                            <field id="bundling_type">1</field>
                        </depends>
                        <frontend_model>Amasty\PageSpeedOptimizer\Block\Adminhtml\Settings\SuperBundlingClear</frontend_model>
                    </field>

                    <field id="merge_js" translate="label comment" type="select" sortOrder="18" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Merge JavaScript Files</label>
                        <depends>
                            <field id="bundling_type">0</field>
                        </depends>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>dev/js/merge_files</config_path>
                        <comment>'bin/magento setup:static-content:deploy' command must be run in the console when any of the settings in the field been changed.</comment>
                    </field>
                    <field id="js_bundling" translate="label comment" type="select" sortOrder="20" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Enable JavaScript Bundling</label>
                        <depends>
                            <field id="bundling_type">0</field>
                        </depends>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>dev/js/enable_js_bundling</config_path>
                        <comment>'bin/magento setup:static-content:deploy' command must be run in the console when any of the settings in the field been changed.</comment>
                    </field>
                    <field id="minify_js" translate="label" type="select" sortOrder="30" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Minify JavaScript Files</label>
                        <depends>
                            <field id="bundling_type">0</field>
                        </depends>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>dev/js/minify_files</config_path>
                        <comment>'bin/magento setup:static-content:deploy' command must be run in the console when any of the settings in the field been changed.</comment>
                    </field>
                    <field id="movejs" translate="label" type="select" sortOrder="30" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Move JavaScript To Page Bottom</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                    </field>
                </group>

                <group id="css" translate="label comment" type="text" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>CSS:</label>

                    <field id="merge_css" translate="label" type="select" sortOrder="10" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Merge CSS Files</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                        <config_path>dev/css/merge_css_files</config_path>
                        <comment>'bin/magento setup:static-content:deploy' command must be run in the console when any of the settings in the field been changed.</comment>
                    </field>
                    <field id="minify_css" translate="label" type="select" sortOrder="20" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Minify CSS Files</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                        <config_path>dev/css/minify_files</config_path>
                        <comment>'bin/magento setup:static-content:deploy' command must be run in the console when any of the settings in the field been changed.</comment>
                    </field>
                    <field id="move_font" translate="label" type="select" sortOrder="30" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Defer Fonts Loading</label>
                        <depends>
                            <field id="merge_css">1</field>
                            <field id="minify_css">1</field>
                        </depends>
                        <comment>Fonts will be loaded later in a separate css file. 'bin/magento setup:static-content:deploy' command must be run in the console when any of the settings in the field been changed.</comment>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                    </field>
                    <field id="font_ignore_list" translate="label comment" type="textarea" sortOrder="35" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Do Not Defer Fonts That Contain</label>
                        <depends>
                            <field id="move_font">1</field>
                            <field id="merge_css">1</field>
                            <field id="minify_css">1</field>
                        </depends>
                        <comment>Example: Luma-Icons</comment>
                    </field>
                    <field id="move_print_css" translate="label" type="select" sortOrder="40" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Move Print CSS Files to Page Bottom</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                        <config_path>amoptimizer/css/move_print</config_path>
                        <tooltip>These styles are used for printing the page and can be moved to the bottom.</tooltip>
                    </field>
                </group>

                <group id="flat_tables" translate="label" type="text" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Flat Tables:</label>

                    <field id="flat_category" translate="label" type="select" sortOrder="10" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>Use Flat Catalog Category</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                        <config_path>catalog/frontend/flat_catalog_category</config_path>
                    </field>
                    <field id="flat_product" translate="label" type="select" sortOrder="20" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>Use Flat Catalog Product</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                        <config_path>catalog/frontend/flat_catalog_product</config_path>
                    </field>
                </group>

                <group id="other_settings" translate="label" type="text" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Other Settings:</label>

                    <field id="sign_static_files" translate="label" type="select" sortOrder="40" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Sign Static Files</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                        <config_path>dev/static/sign</config_path>
                    </field>
                    <field id="async_indexing" translate="label" type="select" sortOrder="50" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>Asynchronous indexing</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\EnableRecommended</source_model>
                        <config_path>dev/grid/async_indexing</config_path>
                    </field>
                </group>
            </group>
            <group id="images" translate="label" type="text" sortOrder="30" showInDefault="1" showInWebsite="1"
                   showInStore="1">
                <label>Image Optimization</label>

                <group id="opti" translate="label" type="text" sortOrder="10" showInDefault="1" showInWebsite="0" showInStore="0">
                    <label>Optimization</label>
                    <field id="optimize_images" translate="label" type="select" sortOrder="30" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Optimize Images</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                        <config_path>amoptimizer/images/optimize_images</config_path>
                    </field>
                    <field id="optimize_automatically" translate="label" type="select" sortOrder="40" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label> Automatically Optimize Images in catalog or Wysiwyg folder</label>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                        <config_path>amoptimizer/images/optimize_automatically</config_path>
                        <comment>All images uploaded to the catalog or Wysiwyg folder will be optimized automatically</comment>
                    </field>
                    <field id="folders" translate="label" type="multiselect" sortOrder="45" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>Folders For Optimization</label>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\OptimizationFolder</source_model>
                        <config_path>amoptimizer/images/folders</config_path>
                    </field>
                    <field id="jpeg_tool" translate="label" type="select" sortOrder="50" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>JPEG optimization tool</label>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\JpegOptimization</source_model>
                        <config_path>amoptimizer/images/jpeg_tool</config_path>
                    </field>
                    <field id="jpeg_optim_result" type="button" sortOrder="51" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <frontend_model>Amasty\PageSpeedOptimizer\Block\Adminhtml\Settings\JpegOptim</frontend_model>
                    </field>
                    <field id="png_tool" translate="label" type="select" sortOrder="60" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>PNG optimization tool</label>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\PngOptimization</source_model>
                        <config_path>amoptimizer/images/png_tool</config_path>
                    </field>
                    <field id="gif_tool" translate="label" type="select" sortOrder="70" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>GIF optimization tool</label>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\GifOptimization</source_model>
                        <config_path>amoptimizer/images/gif_tool</config_path>
                    </field>
                    <field id="webp" translate="label" type="select" sortOrder="75" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>Use Webp image format</label>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                        <config_path>amoptimizer/images/webp</config_path>
                        <comment>When WebP format is used the extension will create a copy for every image in the WebP format. Please make sure that you have enough disc space on your server.</comment>
                        <tooltip><![CDATA[WebP is a modern image format that provides superior lossless and lossy compression for images on the web. Using WebP, webmasters and web developers can create smaller, richer images that make the web faster.<br><br> WebP lossless images are 26% smaller in size compared to PNGs. WebP lossy images are 25-34% smaller than comparable JPEG images at equivalent SSIM quality index.]]></tooltip>
                    </field>
                    <field id="resolutions" translate="label" type="multiselect" sortOrder="78" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>Create Images in Smaller Resolutions</label>
                        <can_be_empty>1</can_be_empty>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\Resolutions</source_model>
                        <config_path>amoptimizer/images/resolutions</config_path>
                        <comment>The extension will create a copy of every image in suitable for mobile or tablet size. Please make sure that you have enough disc space on your server.</comment>
                        <tooltip>When a user uses a mobile or tablet device it's no worth to load a high-resolution image on a small display. Using the feature an image with appropriate size will be uploaded, making the upload process faster and positively impacting the Google rank for mobile.</tooltip>
                    </field>
                    <field id="resize_algorithm" translate="label" type="select" sortOrder="79" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>Resize Algorithm</label>
                        <can_be_empty>1</can_be_empty>
                        <depends>
                            <field id="optimize_images">1</field>
                            <field id="resolutions" separator=",">0,1</field>
                        </depends>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\ResizeAlgorithm</source_model>
                        <config_path>amoptimizer/images/resize_algorithm</config_path>
                        <tooltip><![CDATA[Resize - the image will be resized proportionally to the original size. Simply it will be the same picture, but smaller in pixels.<br>Crop - when cropping a photo, you cut the part of an image changing its width. While the height of the image would be the same. In the result the cropped image will look like the part of the original picture]]></tooltip>
                    </field>
                    <field id="dump_original" translate="label" type="select" sortOrder="80" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>Dump Original Images</label>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                        <config_path>amoptimizer/images/dump_original</config_path>
                        <comment>Original images will be stored in the ‘pub/media/amasty/amoptimizer_dump’ folder</comment>
                    </field>
                    <field id="generate_queue" translate="label" type="button" sortOrder="83" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>Images Queue</label>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <frontend_model>Amasty\PageSpeedOptimizer\Block\Adminhtml\Settings\QueueButton</frontend_model>
                    </field>
                    <field id="process_images_per_request" translate="label" type="text" sortOrder="86" showInDefault="1"
                           showInStore="0" showInWebsite="0">
                        <label>Process Images Per Request</label>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <config_path>amoptimizer/images/process_images_per_request</config_path>
                    </field>
                    <field id="force_optimize" translate="label" type="button" sortOrder="90" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>Run Optimization now</label>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <frontend_model>Amasty\PageSpeedOptimizer\Block\Adminhtml\Settings\ForceButton</frontend_model>
                        <comment>Selected folders images will run optimization. Please mind that it would make an additional load to the server</comment>
                        <tooltip>The button will be available as soon as the queue is been generated</tooltip>
                    </field>
                    <field id="clear_webp_folder" translate="label" type="button" sortOrder="91" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>Clear WebP Images Folder</label>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <frontend_model>Amasty\PageSpeedOptimizer\Block\Adminhtml\Settings\ClearWebpFolderButton</frontend_model>
                    </field>
                    <field id="clear_mobile_folder" translate="label" type="button" sortOrder="92" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>Clear Mobile Images Folder</label>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <frontend_model>Amasty\PageSpeedOptimizer\Block\Adminhtml\Settings\ClearMobileFolderButton</frontend_model>
                    </field>
                    <field id="clear_tablet_folder" translate="label" type="button" sortOrder="93" showInDefault="1"
                           showInWebsite="0" showInStore="0">
                        <label>Clear Tablet Images Folder</label>
                        <depends>
                            <field id="optimize_images">1</field>
                        </depends>
                        <frontend_model>Amasty\PageSpeedOptimizer\Block\Adminhtml\Settings\ClearTabletFolderButton</frontend_model>
                    </field>
                </group>

                <field id="image_optimization_type"  translate="label" type="select" sortOrder="15" showInDefault="1"
                       showInWebsite="1" showInStore="1">
                    <label>Lazy Load Settings</label>
                    <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\OptimizationSettings</source_model>
                    <config_path>amoptimizer/images/image_optimization_type</config_path>
                </field>
                <group id="lazy" translate="label" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Lazy Load</label>
                    <depends>
                        <field id="image_optimization_type">0</field>
                    </depends>
                    <field id="lazy_load" translate="label" type="select" sortOrder="10" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Use Lazy Loading Images</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                        <config_path>amoptimizer/images/lazy_load</config_path>
                    </field>
                    <field id="replace_with_webp" translate="label" type="select" sortOrder="15" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Replace With WebP and Image Resolutions</label>
                        <depends>
                            <field id="lazy_load">0</field>
                        </depends>
                        <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        <config_path>amoptimizer/images/webp_resolutions</config_path>
                        <comment>Please make sure that WebP and Resized images were generated priorly in the 'Optimization' tab</comment>
                        <tooltip>The original images will be replaced by images in WebP and/or appropriate resolution format. The feature can be used if 'Use Webp image format' and 'Create Images For Resolutions' are enabled in the 'Optimization' tab.</tooltip>
                    </field>
                    <field id="replace_with_webp_ignore" translate="label" type="textarea" sortOrder="16" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Ignore Images That Contain</label>
                        <depends>
                            <field id="lazy_load">0</field>
                            <field id="replace_with_webp">1</field>
                        </depends>
                        <config_path>amoptimizer/images/webp_resolutions_ignore</config_path>
                        <comment><![CDATA[Example: &lt;img class="testImage <b>lazyOwl</b>" src="http://site.com/1.png"/&gt; OR &lt;img src="http://site.com/<b>lazyOwl</b>>.png"/&gt; will be excluded.]]></comment>
                    </field>
                    <field id="lazy_load_script" translate="label" type="select" sortOrder="20" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Lazy Load Script</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\LazyLoadScript</source_model>
                        <depends>
                            <field id="lazy_load">1</field>
                        </depends>
                        <config_path>amoptimizer/images/lazy_load_script</config_path>
                        <comment>Please, try both scripts and choose the one that fits your system best</comment>
                    </field>
                    <field id="preload_images" translate="label" type="select" sortOrder="30" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Preload Images</label>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                        <depends>
                            <field id="lazy_load">1</field>
                        </depends>
                        <config_path>amoptimizer/images/preload_images</config_path>
                        <tooltip><![CDATA[The feature will skip some number of images and apply the lazy load to the rest of the pictures on a page. It is recommended to skip from Lazy Load those images that are situated on the first screen of the page. The average number of pictures on the first screen is unique for every website.<br>The number of images to skip can be set in the 'Preload Images Number' field.]]></tooltip>
                    </field>
                    <field id="skip_images_count" translate="label" type="text" sortOrder="40" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Preload Images Number</label>
                        <depends>
                            <field id="lazy_load">1</field>
                            <field id="preload_images">1</field>
                        </depends>
                        <config_path>amoptimizer/images/skip_images_count</config_path>
                    </field>
                    <field id="preload_images_strategy" translate="label" type="select" sortOrder="45" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Preload Images Strategy</label>
                        <depends>
                            <field id="preload_images">1</field>
                            <field id="lazy_load">1</field>
                        </depends>
                        <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\PreloadStrategy</source_model>
                        <config_path>amoptimizer/images/preload_images_strategy</config_path>
                        <tooltip><![CDATA[WebP Format + Image Resolution - The skipped from Lazy Load images will be optimized by WebP and/or Mobile and Tablet Resolutions features if they are enabled. It is a better option from the point of view of optimization and page load speed. But sometimes it can lead to some malfunctions, such as issues with swatches.<br><br>Original Format of Images - The skipped from Lazy Load images will be loaded in the default format. No malfunctions should happen with the selected option.]]></tooltip>
                    </field>
                    <field id="ignore_list" translate="label" type="textarea" sortOrder="50" showInDefault="1"
                           showInWebsite="1" showInStore="1">
                        <label>Ignore Images That Contain</label>
                        <depends>
                            <field id="lazy_load">1</field>
                        </depends>
                        <config_path>amoptimizer/images/ignore_list</config_path>
                        <tooltip>This feature is used when facing problems with image loading due to compatibility with the 3rd party extensions such as implemented into a Magento theme lazy load or carousel banners. Put a part of an image tag content into the field and all images containing the inserted lines in their tags will be excluded from the extension's Lazy Load.</tooltip>
                        <comment><![CDATA[Example: &lt;img class="testImage <b>lazyOwl</b>" src="http://site.com/1.png"/&gt; OR &lt;img src="http://site.com/<b>lazyOwl</b>>.png"/&gt; will be excluded.]]></comment>
                    </field>
                </group>

                <!-- Advanced -->
                <group id="lazy_advanced" translate="label" type="text" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Lazy Load</label>
                    <depends>
                        <field id="image_optimization_type">1</field>
                    </depends>

                    <group id="lazy_general" translate="label" type="text" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>General</label>
                        <field id="lazy_load" translate="label" type="select" sortOrder="10" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Use Lazy Loading Images</label>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                            <config_path>amoptimizer/lazy_load_general/lazy_load</config_path>
                        </field>
                        <field id="replace_with_webp" translate="label" type="select" sortOrder="15" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Replace With WebP and Image Resolutions</label>
                            <depends>
                                <field id="lazy_load">0</field>
                            </depends>
                            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                            <config_path>amoptimizer/lazy_load_general/webp_resolutions</config_path>
                        </field>
                        <field id="replace_with_webp_ignore" translate="label" type="textarea" sortOrder="16" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Ignore Images That Contain</label>
                            <depends>
                                <field id="lazy_load">0</field>
                                <field id="replace_with_webp">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_general/webp_resolutions_ignore</config_path>
                        </field>
                        <field id="lazy_load_script" translate="label" type="select" sortOrder="20" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Lazy Load Script</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\LazyLoadScript</source_model>
                            <config_path>amoptimizer/lazy_load_general/lazy_load_script</config_path>
                        </field>
                        <field id="preload_images" translate="label" type="select" sortOrder="30" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                            <config_path>amoptimizer/lazy_load_general/preload_images</config_path>
                        </field>
                        <field id="preload_images_strategy" translate="label" type="select" sortOrder="40" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images Strategy</label>
                            <depends>
                                <field id="preload_images">1</field>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\PreloadStrategy</source_model>
                            <config_path>amoptimizer/lazy_load_general/preload_images_strategy</config_path>
                        </field>
                        <field id="skip_images_count" translate="label" type="text" sortOrder="50" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images Count</label>
                            <depends>
                                <field id="preload_images">1</field>
                                <field id="lazy_load">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_general/skip_images_count</config_path>
                        </field>
                        <field id="ignore_list" translate="label" type="textarea" sortOrder="60" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Ignore Images That Contain</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_general/ignore_list</config_path>
                        </field>
                    </group>

                    <group id="lazy_home" translate="label" type="text" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Home Page</label>
                        <depends>
                            <field id="lazy_load">1</field>
                        </depends>
                        <field id="lazy_load" translate="label" type="select" sortOrder="10" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Use Lazy Loading Images</label>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                            <config_path>amoptimizer/lazy_load_home/lazy_load</config_path>
                        </field>
                        <field id="replace_with_webp" translate="label" type="select" sortOrder="15" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Replace With WebP and Image Resolutions</label>
                            <depends>
                                <field id="lazy_load">0</field>
                            </depends>
                            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                            <config_path>amoptimizer/lazy_load_home/webp_resolutions</config_path>
                        </field>
                        <field id="replace_with_webp_ignore" translate="label" type="textarea" sortOrder="16" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Ignore Images That Contain</label>
                            <depends>
                                <field id="lazy_load">0</field>
                                <field id="replace_with_webp">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_home/webp_resolutions_ignore</config_path>
                        </field>
                        <field id="lazy_load_script" translate="label" type="select" sortOrder="20" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Lazy Load Script</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\LazyLoadScript</source_model>
                            <config_path>amoptimizer/lazy_load_home/lazy_load_script</config_path>
                        </field>
                        <field id="preload_images" translate="label" type="select" sortOrder="30" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                            <config_path>amoptimizer/lazy_load_home/preload_images</config_path>
                        </field>
                        <field id="preload_images_strategy" translate="label" type="select" sortOrder="40" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images Strategy</label>
                            <depends>
                                <field id="preload_images">1</field>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\PreloadStrategy</source_model>
                            <config_path>amoptimizer/lazy_load_home/preload_images_strategy</config_path>
                        </field>
                        <field id="skip_images_count" translate="label" type="text" sortOrder="50" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images Count</label>
                            <depends>
                                <field id="preload_images">1</field>
                                <field id="lazy_load">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_home/skip_images_count</config_path>
                        </field>
                        <field id="ignore_list" translate="label" type="textarea" sortOrder="60" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Ignore Images That Contain</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_home/ignore_list</config_path>
                        </field>
                    </group>

                    <group id="lazy_categories" translate="label" type="text" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Category Pages</label>
                        <field id="lazy_load" translate="label" type="select" sortOrder="10" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Use Lazy Loading Images</label>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                            <config_path>amoptimizer/lazy_load_categories/lazy_load</config_path>
                        </field>
                        <field id="replace_with_webp" translate="label" type="select" sortOrder="15" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Replace With WebP and Image Resolutions</label>
                            <depends>
                                <field id="lazy_load">0</field>
                            </depends>
                            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                            <config_path>amoptimizer/lazy_load_categories/webp_resolutions</config_path>
                        </field>
                        <field id="replace_with_webp_ignore" translate="label" type="textarea" sortOrder="16" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Ignore Images That Contain</label>
                            <depends>
                                <field id="lazy_load">0</field>
                                <field id="replace_with_webp">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_categories/webp_resolutions_ignore</config_path>
                        </field>
                        <field id="lazy_load_script" translate="label" type="select" sortOrder="20" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Lazy Load Script</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\LazyLoadScript</source_model>
                            <config_path>amoptimizer/lazy_load_categories/lazy_load_script</config_path>
                        </field>
                        <field id="preload_images" translate="label" type="select" sortOrder="30" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                            <config_path>amoptimizer/lazy_load_categories/preload_images</config_path>
                        </field>
                        <field id="preload_images_strategy" translate="label" type="select" sortOrder="40" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images Strategy</label>
                            <depends>
                                <field id="preload_images">1</field>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\PreloadStrategy</source_model>
                            <config_path>amoptimizer/lazy_load_categories/preload_images_strategy</config_path>
                        </field>
                        <field id="skip_images_count" translate="label" type="text" sortOrder="50" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images Count</label>
                            <depends>
                                <field id="preload_images">1</field>
                                <field id="lazy_load">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_categories/skip_images_count</config_path>
                        </field>
                        <field id="ignore_list" translate="label" type="textarea" sortOrder="60" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Ignore Images That Contain</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_categories/ignore_list</config_path>
                        </field>
                    </group>

                    <group id="lazy_products" translate="label" type="text" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Product Pages</label>
                        <field id="lazy_load" translate="label" type="select" sortOrder="10" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Use Lazy Loading Images</label>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                            <config_path>amoptimizer/lazy_load_products/lazy_load</config_path>
                        </field>
                        <field id="replace_with_webp" translate="label" type="select" sortOrder="15" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Replace With WebP and Image Resolutions</label>
                            <depends>
                                <field id="lazy_load">0</field>
                            </depends>
                            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                            <config_path>amoptimizer/lazy_load_products/webp_resolutions</config_path>
                        </field>
                        <field id="replace_with_webp_ignore" translate="label" type="textarea" sortOrder="16" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Ignore Images That Contain</label>
                            <depends>
                                <field id="lazy_load">0</field>
                                <field id="replace_with_webp">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_products/webp_resolutions_ignore</config_path>
                        </field>
                        <field id="lazy_load_script" translate="label" type="select" sortOrder="20" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Lazy Load Script</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\LazyLoadScript</source_model>
                            <config_path>amoptimizer/lazy_load_products/lazy_load_script</config_path>
                        </field>
                        <field id="preload_images" translate="label" type="select" sortOrder="30" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                            <config_path>amoptimizer/lazy_load_products/preload_images</config_path>
                        </field>
                        <field id="preload_images_strategy" translate="label" type="select" sortOrder="40" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images Strategy</label>
                            <depends>
                                <field id="preload_images">1</field>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\PreloadStrategy</source_model>
                            <config_path>amoptimizer/lazy_load_products/preload_images_strategy</config_path>
                        </field>
                        <field id="skip_images_count" translate="label" type="text" sortOrder="50" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images Count</label>
                            <depends>
                                <field id="preload_images">1</field>
                                <field id="lazy_load">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_products/skip_images_count</config_path>
                        </field>
                        <field id="ignore_list" translate="label" type="textarea" sortOrder="60" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Ignore Images That Contain</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_products/ignore_list</config_path>
                        </field>
                    </group>

                    <group id="lazy_cms" translate="label" type="text" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>CMS Pages</label>
                        <field id="lazy_load" translate="label" type="select" sortOrder="10" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Use Lazy Loading Images</label>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                            <config_path>amoptimizer/lazy_load_cms/lazy_load</config_path>
                        </field>
                        <field id="replace_with_webp" translate="label" type="select" sortOrder="15" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Replace With WebP and Image Resolutions</label>
                            <depends>
                                <field id="lazy_load">0</field>
                            </depends>
                            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                            <config_path>amoptimizer/lazy_load_cms/webp_resolutions</config_path>
                        </field>
                        <field id="replace_with_webp_ignore" translate="label" type="textarea" sortOrder="16" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Ignore Images That Contain</label>
                            <depends>
                                <field id="lazy_load">0</field>
                                <field id="replace_with_webp">1</field>
                            </depends>
                            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        </field>
                        <field id="lazy_load_script" translate="label" type="select" sortOrder="20" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Lazy Load Script</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\LazyLoadScript</source_model>
                            <config_path>amoptimizer/lazy_load_cms/lazy_load_script</config_path>
                        </field>
                        <field id="preload_images" translate="label" type="select" sortOrder="30" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\YesRecommended</source_model>
                            <config_path>amoptimizer/lazy_load_cms/preload_images</config_path>
                        </field>
                        <field id="preload_images_strategy" translate="label" type="select" sortOrder="40" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images Strategy</label>
                            <depends>
                                <field id="preload_images">1</field>
                                <field id="lazy_load">1</field>
                            </depends>
                            <source_model>Amasty\PageSpeedOptimizer\Model\OptionSource\PreloadStrategy</source_model>
                            <config_path>amoptimizer/lazy_load_cms/preload_images_strategy</config_path>
                        </field>
                        <field id="skip_images_count" translate="label" type="text" sortOrder="50" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Preload Images Count</label>
                            <depends>
                                <field id="preload_images">1</field>
                                <field id="lazy_load">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_cms/skip_images_count</config_path>
                        </field>
                        <field id="ignore_list" translate="label" type="textarea" sortOrder="60" showInDefault="1"
                               showInWebsite="1" showInStore="1">
                            <label>Ignore Images That Contain</label>
                            <depends>
                                <field id="lazy_load">1</field>
                            </depends>
                            <config_path>amoptimizer/lazy_load_cms/ignore_list</config_path>
                        </field>
                    </group>
                </group>


                <!-- /Advanced -->
            </group>
        </section>
    </system>
</config>
